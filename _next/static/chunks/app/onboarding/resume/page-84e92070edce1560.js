(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{67868:(e,t,r)=>{Promise.resolve().then(r.bind(r,85811))},85811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var n=r(95155),o=r(57106),i=r(7745),s=r(49511),a=r(22282),l=r(12115),c=r(52160),d=r(17506),x=r(12488);let h=(0,d.c)("pk_test_51QwAjiQIr5sCMzToswbDwv07A3FfnkYUAjKBMcsizERJxNHy1YSzFTxOfyVeqsuoDg0j6fzfMutVJHVAMqFGh9j400O455HwxO"),u=e=>{let{onClose:t,onPaymentSuccess:r}=e,o=(0,c.useStripe)(),i=(0,c.useElements)(),[d,h]=(0,l.useState)(!1),[u,g]=(0,l.useState)(""),m=async e=>{if(e.preventDefault(),h(!0),!o||!i){g("Stripe n'est pas charg\xe9."),h(!1);return}let{paymentMethod:t,error:n}=await o.createPaymentMethod({type:"card",card:i.getElement(c.CardElement)});n?(g(n.message||"Erreur de paiement."),r(!1)):(g("✅ Paiement r\xe9ussi ! ID: ".concat(t.id)),r(!0)),h(!1)};return(0,n.jsxs)(x.A,{sx:{textAlign:"center",p:3},children:[(0,n.jsx)(s.Ay,{sx:{fontWeight:"bold",mb:2},children:"Test payment"}),(0,n.jsxs)("form",{onSubmit:m,style:{marginTop:20},children:[(0,n.jsx)(x.A,{sx:{marginLeft:"-55px",border:"1px solid #ddd",borderRadius:"8px",padding:"10px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"border-color 0.3s",height:"40px",width:"395px","&:focus-within":{borderColor:"#6B73FF"}},children:(0,n.jsx)(c.CardElement,{options:{style:{base:{color:"#000",fontSize:"16px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","::placeholder":{color:"#cfd7df"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}}})}),(0,n.jsxs)(x.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:[(0,n.jsx)(a.A,{type:"submit",variant:"contained",color:"primary",disabled:d||!o,sx:{backgroundColor:"#6B73FF","&:hover":{backgroundColor:"#556cd6"},color:"white",borderRadius:"8px",padding:"10px 20px",fontWeight:"bold"},children:d?"Processing...":"Payer"}),(0,n.jsx)(a.A,{onClick:t,variant:"outlined",color:"secondary",sx:{ml:2,borderRadius:"8px"},children:"Close"})]})]}),u&&(0,n.jsx)(s.Ay,{sx:{color:"green",mt:2},children:u})]})};function g(e){let{onClose:t,onPaymentSuccess:r}=e;return(0,n.jsx)(c.Elements,{stripe:h,children:(0,n.jsx)(u,{onClose:t,onPaymentSuccess:r})})}function m(e){let{onPaymentSuccess:t}=e,[r,c]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!1);return(0,n.jsxs)("div",{children:[(0,n.jsx)(a.A,{onClick:()=>c(!0),variant:"contained",sx:{backgroundColor:"#6B73FF",color:"white","&:hover":{backgroundColor:"#556cd6"},borderRadius:"8px",padding:"10px 20px",fontWeight:"bold"},children:"Pay"}),(0,n.jsx)(o.Ay,{open:r,onClose:()=>c(!1),children:(0,n.jsxs)(i.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",boxShadow:24,p:4,borderRadius:2,border:"1px solid #ddd"},children:[(0,n.jsx)(s.Ay,{sx:{fontWeight:"bold",marginBottom:2},children:"Payment details"}),(0,n.jsxs)(s.Ay,{sx:{color:"text.secondary",marginBottom:2},children:["Num\xe9ro : 4242 4242 4242 4242 ",(0,n.jsx)("br",{}),"Date : 12/34 ",(0,n.jsx)("br",{}),"CVC : 123"]}),d?(0,n.jsx)(s.Ay,{sx:{textAlign:"center",color:"green",marginTop:2},children:"✅ Payment success, thanks ! \uD83C\uDF89"}):(0,n.jsx)(g,{onClose:()=>c(!1),onPaymentSuccess:e=>{x(e),t(e),setTimeout(()=>c(!1),2e3)}})]})})]})}var p=r(63699),b=r(73887),f=r(59894),y=r(35309),j=r(10810),A=r(76046);function C(){let e=p.r.getState().getUserData(),t=(0,A.useRouter)(),{userData:r}=(0,p.r)(),[o,s]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r.birthDate&&r.birthLocation&&r.astroInterest&&r.birthTime||t.replace("/onboarding/form")},[r,t]);let c=e=>e?new Date(e).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"N/A";return(0,n.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",height:"100%",overflow:"auto"},children:(0,n.jsxs)(b.A,{sx:{width:{xs:"90%",sm:"400px"},borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",backgroundColor:"white",padding:"20px",overflowY:"auto"},children:[(0,n.jsxs)(f.A,{children:[(0,n.jsx)(j.A,{variant:"h4",component:"div",sx:{fontWeight:"bold",mb:2,textAlign:"center",color:"#3f51b5"},children:"Your Cosmic Reading"}),(0,n.jsx)(j.A,{sx:{color:"text.secondary",mb:2,textAlign:"center"},children:"Based on your unique celestial alignment:"}),(0,n.jsxs)(i.A,{sx:{marginBottom:"16px"},children:[(0,n.jsx)(j.A,{sx:{fontWeight:"bold",textAlign:"center"},children:"Birth Details"}),(0,n.jsxs)(j.A,{sx:{textAlign:"center"},children:["Date: ",new Date(e.birthDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]}),(0,n.jsxs)(j.A,{sx:{textAlign:"center"},children:["Time: ",c(e.birthTime)]}),(0,n.jsxs)(j.A,{sx:{textAlign:"center"},children:["Location: ",e.birthLocation]})]}),(0,n.jsxs)(i.A,{sx:{marginBottom:"16px"},children:[(0,n.jsx)(j.A,{sx:{fontWeight:"bold",textAlign:"center"},children:"Your Interest"}),(0,n.jsx)(j.A,{sx:{textAlign:"center"},children:e.astroInterest})]}),(0,n.jsxs)(i.A,{sx:{marginBottom:"16px",textAlign:"center"},children:[(0,n.jsx)(j.A,{sx:{fontWeight:"bold",marginBottom:"10px"},children:"Summary"}),(0,n.jsx)(j.A,{children:"\n    Based on your birth date of ".concat(new Date(e.birthDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),", your birth time of ").concat(c(e.birthTime),",\n    and your location of ").concat(e.birthLocation,", \n    we have crafted a unique astrological reading that reflects your personality traits and potential paths. \n    Your interest in ").concat(e.astroInterest," suggests that you may find yourself drawn to exploring deeper insights into your cosmic influences.")})]}),(0,n.jsxs)(i.A,{sx:{height:"80px",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(j.A,{sx:{fontWeight:"bold",marginRight:"10px"},children:"See more for only $9.90"}),(0,n.jsx)(m,{onPaymentSuccess:e=>{s(e),console.log("Paiement r\xe9ussi :",e)}})]}),o&&(0,n.jsx)(i.A,{sx:{height:"40px",background:"#4caf50",color:"white",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:"✅ Thanks for your subscription! Good luck!"})]}),(0,n.jsx)(y.A,{children:(0,n.jsx)(a.A,{onClick:()=>{t.push("/")},variant:"contained",sx:{backgroundColor:"#6B73FF",color:"white",borderRadius:"8px","&:hover":{backgroundColor:"#556cd6"},width:"100%"},children:"Finished"})})]})})}},63699:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});let n=(0,r(99827).v)((e,t)=>({userData:{},setUserData:t=>e(e=>({userData:{...e.userData,...t}})),clearUserData:()=>e({userData:{}}),getUserData:()=>t().userData}))}},e=>{var t=t=>e(e.s=t);e.O(0,[810,198,549,441,517,358],()=>t(67868)),_N_E=e.O()}]);