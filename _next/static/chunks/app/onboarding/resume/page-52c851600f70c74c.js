(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[208],{67868:(e,t,r)=>{Promise.resolve().then(r.bind(r,85811))},85811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var o=r(95155),n=r(57106),s=r(7745),i=r(49511),a=r(22282),l=r(12115),d=r(52160),x=r(17506),c=r(12488);let h=(0,x.c)("pk_test_51QwAjiQIr5sCMzToswbDwv07A3FfnkYUAjKBMcsizERJxNHy1YSzFTxOfyVeqsuoDg0j6fzfMutVJHVAMqFGh9j400O455HwxO"),u=e=>{let{onClose:t,onPaymentSuccess:r}=e,n=(0,d.useStripe)(),s=(0,d.useElements)(),[x,h]=(0,l.useState)(!1),[u,g]=(0,l.useState)(""),m=async e=>{if(e.preventDefault(),h(!0),!n||!s){g("Stripe not loaded."),h(!1);return}let{paymentMethod:t,error:o}=await n.createPaymentMethod({type:"card",card:s.getElement(d.CardNumberElement)});o?(g(o.message||"Payment error."),r(!1)):(g("✅ Payment done ! ID: ".concat(t.id)),r(!0)),h(!1)},p={style:{base:{color:"#333",fontSize:"16px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};return(0,o.jsxs)(c.A,{sx:{textAlign:"center",p:3,maxWidth:"400px",margin:"auto"},children:[(0,o.jsx)(i.Ay,{sx:{fontWeight:"bold",mb:2},children:"Test Payment"}),(0,o.jsxs)("form",{onSubmit:m,style:{marginTop:20},children:[(0,o.jsxs)(c.A,{sx:{mb:2},children:[(0,o.jsx)(i.Ay,{sx:{mb:1,textAlign:"left"},children:"Card number"}),(0,o.jsx)(c.A,{sx:{border:"1px solid #ddd",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"border-color 0.3s","&:focus-within":{borderColor:"#6B73FF"}},children:(0,o.jsx)(d.CardNumberElement,{options:p})})]}),(0,o.jsxs)(c.A,{sx:{display:"flex",gap:2},children:[(0,o.jsxs)(c.A,{sx:{flex:1},children:[(0,o.jsx)(i.Ay,{sx:{mb:1,textAlign:"left"},children:"Expiration"}),(0,o.jsx)(c.A,{sx:{border:"1px solid #ddd",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"border-color 0.3s","&:focus-within":{borderColor:"#6B73FF"}},children:(0,o.jsx)(d.CardExpiryElement,{options:p})})]}),(0,o.jsxs)(c.A,{sx:{flex:1},children:[(0,o.jsx)(i.Ay,{sx:{mb:1,textAlign:"left"},children:"CVC"}),(0,o.jsx)(c.A,{sx:{border:"1px solid #ddd",borderRadius:"8px",padding:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"border-color 0.3s","&:focus-within":{borderColor:"#6B73FF"}},children:(0,o.jsx)(d.CardCvcElement,{options:p})})]})]}),(0,o.jsxs)(c.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:[(0,o.jsx)(a.A,{type:"submit",variant:"contained",color:"primary",disabled:x||!n,sx:{backgroundColor:"#6B73FF","&:hover":{backgroundColor:"#556cd6"},color:"white",borderRadius:"8px",padding:"10px 20px",fontWeight:"bold"},children:x?"Processing...":"Payer"}),(0,o.jsx)(a.A,{onClick:t,variant:"outlined",color:"secondary",sx:{ml:2,borderRadius:"8px"},children:"Close"})]})]}),u&&(0,o.jsx)(i.Ay,{sx:{color:"green",mt:2},children:u})]})};function g(e){let{onClose:t,onPaymentSuccess:r}=e;return(0,o.jsx)(d.Elements,{stripe:h,children:(0,o.jsx)(u,{onClose:t,onPaymentSuccess:r})})}function m(e){let{onPaymentSuccess:t}=e,[r,d]=(0,l.useState)(!1),[x,c]=(0,l.useState)(!1);return(0,o.jsxs)("div",{children:[(0,o.jsx)(a.A,{onClick:()=>d(!0),variant:"contained",sx:{backgroundColor:"#6B73FF",color:"white","&:hover":{backgroundColor:"#556cd6"},borderRadius:"8px",padding:"10px 20px",fontWeight:"bold"},children:"Pay"}),(0,o.jsx)(n.Ay,{open:r,onClose:()=>d(!1),children:(0,o.jsxs)(s.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"500px",bgcolor:"white",boxShadow:24,p:4,borderRadius:2,border:"1px solid #ddd",maxHeight:"90vh",overflowY:"auto"},children:[(0,o.jsx)(i.Ay,{sx:{fontWeight:"bold",marginBottom:2},children:"Payment details"}),(0,o.jsxs)(i.Ay,{sx:{color:"text.secondary",marginBottom:2},children:["Number : 4242 4242 4242 4242 ",(0,o.jsx)("br",{}),"Date : 12/34 ",(0,o.jsx)("br",{}),"CVC : 123"]}),x?(0,o.jsx)(i.Ay,{sx:{textAlign:"center",color:"green",marginTop:2},children:"✅ Payment success, thanks! \uD83C\uDF89"}):(0,o.jsx)(g,{onClose:()=>d(!1),onPaymentSuccess:e=>{c(e),t(e),setTimeout(()=>d(!1),2e3)}})]})})]})}var p=r(63699),b=r(73887),f=r(59894),A=r(35309),j=r(10810),y=r(76046);function C(){let e=p.r.getState().getUserData(),t=(0,y.useRouter)(),{userData:r}=(0,p.r)(),[n,i]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r.birthDate&&r.birthLocation&&r.astroInterest&&r.birthTime||t.replace("/onboarding/form")},[r,t]);let d=e=>e?new Date(e).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"N/A";return(0,o.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",height:"100%",overflow:"auto"},children:(0,o.jsxs)(b.A,{sx:{width:{xs:"90%",sm:"500px"},maxHeight:{xs:"90vh",sm:"auto"},borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",backgroundColor:"white",padding:"20px",overflowY:"auto"},children:[(0,o.jsxs)(f.A,{children:[(0,o.jsx)(j.A,{variant:"h4",component:"div",sx:{fontWeight:"bold",mb:2,textAlign:"center",color:"#3f51b5"},children:"Your Cosmic Reading"}),(0,o.jsx)(j.A,{sx:{color:"text.secondary",mb:2,textAlign:"center"},children:"Based on your unique celestial alignment:"}),(0,o.jsxs)(s.A,{sx:{marginBottom:"16px"},children:[(0,o.jsx)(j.A,{sx:{fontWeight:"bold",textAlign:"center"},children:"Birth Details"}),(0,o.jsxs)(j.A,{sx:{textAlign:"center"},children:["Date:"," ",new Date(e.birthDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]}),(0,o.jsxs)(j.A,{sx:{textAlign:"center"},children:["Time: ",d(e.birthTime)]}),(0,o.jsxs)(j.A,{sx:{textAlign:"center"},children:["Location: ",e.birthLocation]})]}),(0,o.jsxs)(s.A,{sx:{marginBottom:"16px"},children:[(0,o.jsx)(j.A,{sx:{fontWeight:"bold",textAlign:"center"},children:"Your Interest"}),(0,o.jsx)(j.A,{sx:{textAlign:"center"},children:e.astroInterest})]}),(0,o.jsxs)(s.A,{sx:{marginBottom:"16px",textAlign:"center"},children:[(0,o.jsx)(j.A,{sx:{fontWeight:"bold",marginBottom:"10px"},children:"Summary"}),(0,o.jsx)(j.A,{children:"\n    Based on your birth date of ".concat(new Date(e.birthDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),", your birth time of ").concat(d(e.birthTime),",\n    and your location of ").concat(e.birthLocation,", \n    we have crafted a unique astrological reading that reflects your personality traits and potential paths. \n    Your interest in ").concat(e.astroInterest," suggests that you may find yourself drawn to exploring deeper insights into your cosmic influences.")})]}),(0,o.jsxs)(s.A,{sx:{height:"80px",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,o.jsx)(j.A,{sx:{fontWeight:"bold",marginRight:"10px"},children:"See more for only $9.90"}),(0,o.jsx)(m,{onPaymentSuccess:e=>{i(e),console.log("Paiement r\xe9ussi :",e)}})]}),n&&(0,o.jsx)(s.A,{sx:{height:"40px",background:"#4caf50",color:"white",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:"✅ Thanks for your subscription! Good luck!"})]}),(0,o.jsx)(A.A,{children:(0,o.jsx)(a.A,{onClick:()=>{t.push("/")},variant:"contained",sx:{backgroundColor:"#6B73FF",color:"white",borderRadius:"8px","&:hover":{backgroundColor:"#556cd6"},width:"100%"},children:"Finished"})})]})})}},63699:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});let o=(0,r(99827).v)((e,t)=>({userData:{},setUserData:t=>e(e=>({userData:{...e.userData,...t}})),clearUserData:()=>e({userData:{}}),getUserData:()=>t().userData}))}},e=>{var t=t=>e(e.s=t);e.O(0,[810,198,549,441,517,358],()=>t(67868)),_N_E=e.O()}]);